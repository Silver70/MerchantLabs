type Region {
  id: UUID!
  name: String!
  countryCodes: [String!]!
  taxRate: Decimal!
  taxCode: String
  createdAt: DateTime!
  updatedAt: DateTime!
}

type Channel {
  id: UUID!
  name: String!
  slug: String!
  region: Region!
  currencyCode: String!
  taxInclusive: Boolean!
  defaultLanguage: String
  isActive: Boolean!
  createdAt: DateTime!
  updatedAt: DateTime!
}

type ChannelProduct {
  channelId: UUID!
  productVariantId: UUID!
  price: Decimal!
  isVisible: Boolean!
}

type RegionConnection {
  edges: [RegionEdge!]!
  pageInfo: PageInfo!
}

type RegionEdge {
  cursor: String!
  node: Region!
}

type ChannelConnection {
  edges: [ChannelEdge!]!
  pageInfo: PageInfo!
}

type ChannelEdge {
  cursor: String!
  node: Channel!
}

input CreateRegionInput {
  name: String!
  countryCodes: [String!]!
  taxRate: Decimal!
  taxCode: String
}

input UpdateRegionInput {
  name: String
  countryCodes: [String!]
  taxRate: Decimal
  taxCode: String
}

input CreateChannelInput {
  name: String!
  slug: String!
  regionId: UUID!
  currencyCode: String!
  taxInclusive: Boolean
  defaultLanguage: String
}

input UpdateChannelInput {
  name: String
  slug: String
  regionId: UUID
  currencyCode: String
  taxInclusive: Boolean
  defaultLanguage: String
  isActive: Boolean
}

input ChannelProductPriceInput {
  productVariantId: UUID!
  price: Decimal!
  isVisible: Boolean
}

type RegionResponse {
  success: Boolean!
  data: Region
  error: ErrorResponse
}

type ChannelResponse {
  success: Boolean!
  data: Channel
  error: ErrorResponse
}

extend type Query {
  region(id: UUID!): Region
  regions(first: Int, after: String): RegionConnection!

  channel(id: UUID!): Channel
  channels(first: Int, after: String): ChannelConnection!
}

extend type Mutation {
  createRegion(input: CreateRegionInput!): RegionResponse!
  updateRegion(id: UUID!, input: UpdateRegionInput!): RegionResponse!
  deleteRegion(id: UUID!): RegionResponse!

  createChannel(input: CreateChannelInput!): ChannelResponse!
  updateChannel(id: UUID!, input: UpdateChannelInput!): ChannelResponse!
  deleteChannel(id: UUID!): ChannelResponse!

  setChannelProductPrice(
    channelId: UUID!
    input: ChannelProductPriceInput!
  ): ChannelResponse!
}
